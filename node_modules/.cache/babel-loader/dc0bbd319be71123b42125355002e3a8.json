{"ast":null,"code":"var _jsxFileName = \"/Users/carlostrujillosamper/Ironhack/webmad2019/week7/thursday/daily/lab-react-ironbeers/carlosbeers/src/components/NewBeer.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass NewBeer extends Component {\n  constructor(props) {\n    super(props); //             will help us to toggle add task form   \n    //                      |\n\n    this.getSingleProject = () => {\n      const params = this.props.match.params;\n      axios.get(\"http://localhost:5000/single/\".concat(params.id)).then(responseFromApi => {\n        const theProject = responseFromApi.data;\n        this.setState(theProject);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      const name = this.state.name;\n      const tagline = this.state.tagline;\n      const image_url = this.state.image_url;\n      const contributed_by = this.state.contributed_by; // const projectID = this.props.theProject._id; // <== we need to know to which project the created task belong, so we need to get its 'id'\n      // it has to be the 'id' because we are referencing project \n      // by its id in the task model on the server side ( project: {type: Schema.Types.ObjectId, ref: 'Project'})\n      // { name, tagline, projectID } => this is 'req.body' that will be received on the server side in this route, \n      // so the names have to match\n\n      axios.post(\"http://localhost:5000/new\", {\n        name,\n        tagline,\n        image_url,\n        contributed_by\n      }).then(() => {\n        // after submitting the form, retrieve project one more time so the new task is displayed as well \n        //              |\n        this.get();\n        this.setState({\n          name: \"\",\n          tagline: \"\",\n          image_url: \"\",\n          contributed_by: \"\"\n        });\n      }).catch(error => console.log(error));\n    };\n\n    this.handleChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.showNewBeerForm = () => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Add Beer\"), React.createElement(\"form\", {\n        onSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"name:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        value: this.state.name,\n        onChange: e => this.handleChange(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"tagline:\"), React.createElement(\"textarea\", {\n        name: \"tagline\",\n        value: this.state.tagline,\n        onChange: e => this.handleChange(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"image\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"image\",\n        value: this.state.image_url,\n        onChange: e => this.handleChange(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"contributed_by\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"contributed_by\",\n        value: this.state.contributed_by,\n        onChange: e => this.handleChange(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })));\n    };\n\n    this.state = {\n      name: \"beer name\",\n      tagline: \"your beer tagline\",\n      image_url: \"your photo URL\",\n      contributed_by: \"your contributor\"\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), this.showNewBeerForm());\n  }\n\n}\n\nexport default NewBeer;","map":{"version":3,"sources":["/Users/carlostrujillosamper/Ironhack/webmad2019/week7/thursday/daily/lab-react-ironbeers/carlosbeers/src/components/NewBeer.js"],"names":["React","Component","axios","NewBeer","constructor","props","getSingleProject","params","match","get","id","then","responseFromApi","theProject","data","setState","catch","err","console","log","handleFormSubmit","event","preventDefault","name","state","tagline","image_url","contributed_by","post","error","handleChange","target","value","showNewBeerForm","e","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,OAAN,SAAsBF,SAAtB,CAAgC;AAC9BG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN,EADc,CACS;AACD;;AAFR,SAKlBC,gBALkB,GAKC,MAAM;AAAA,YACfC,MADe,GACJ,KAAKF,KAAL,CAAWG,KADP,CACfD,MADe;AAEvBL,MAAAA,KAAK,CAACO,GAAN,wCAA0CF,MAAM,CAACG,EAAjD,GACCC,IADD,CACOC,eAAe,IAAG;AACrB,cAAMC,UAAU,GAAGD,eAAe,CAACE,IAAnC;AACA,aAAKC,QAAL,CAAcF,UAAd;AACH,OAJD,EAKCG,KALD,CAKQC,GAAD,IAAO;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,OAPD;AAQH,KAfmB;;AAAA,SAiBlBG,gBAjBkB,GAiBEC,KAAD,IAAW;AAC5BA,MAAAA,KAAK,CAACC,cAAN;AACA,YAAMC,IAAI,GAAG,KAAKC,KAAL,CAAWD,IAAxB;AACA,YAAME,OAAO,GAAG,KAAKD,KAAL,CAAWC,OAA3B;AACA,YAAMC,SAAS,GAAG,KAAKF,KAAL,CAAWE,SAA7B;AACA,YAAMC,cAAc,GAAG,KAAKH,KAAL,CAAWG,cAAlC,CAL4B,CAO5B;AAC4C;AACA;AAE5C;AACA;;AACAzB,MAAAA,KAAK,CAAC0B,IAAN,CAAW,2BAAX,EAAwC;AAAEL,QAAAA,IAAF;AAAOE,QAAAA,OAAP;AAAgBC,QAAAA,SAAhB;AAA2BC,QAAAA;AAA3B,OAAxC,EACChB,IADD,CACO,MAAM;AACP;AACA;AACF,aAAKF,GAAL;AACA,aAAKM,QAAL,CAAc;AAACQ,UAAAA,IAAI,EAAE,EAAP;AAAWE,UAAAA,OAAO,EAAE,EAApB;AAAwBC,UAAAA,SAAS,EAAE,EAAnC;AAAuCC,UAAAA,cAAc,EAAE;AAAvD,SAAd;AACH,OAND,EAOCX,KAPD,CAOQa,KAAK,IAAIX,OAAO,CAACC,GAAR,CAAYU,KAAZ,CAPjB;AAQD,KAtCiB;;AAAA,SAwClBC,YAxCkB,GAwCFT,KAAD,IAAW;AAAA,4BACCA,KAAK,CAACU,MADP;AAAA,YACfR,IADe,iBACfA,IADe;AAAA,YACTS,KADS,iBACTA,KADS;AAEtB,WAAKjB,QAAL,CAAc;AAAC,SAACQ,IAAD,GAAQS;AAAT,OAAd;AACH,KA3CiB;;AAAA,SA+ClBC,eA/CkB,GA+CA,MAAM;AAElB,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADN,EAEM;AAAM,QAAA,QAAQ,EAAE,KAAKb,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,EAEA;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,MAAxB;AAA+B,QAAA,KAAK,EAAE,KAAKI,KAAL,CAAWD,IAAjD;AAAuD,QAAA,QAAQ,EAAGW,CAAC,IAAI,KAAKJ,YAAL,CAAkBI,CAAlB,CAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHA,EAIA;AAAU,QAAA,IAAI,EAAC,SAAf;AAAyB,QAAA,KAAK,EAAE,KAAKV,KAAL,CAAWC,OAA3C;AAAoD,QAAA,QAAQ,EAAGS,CAAC,IAAI,KAAKJ,YAAL,CAAkBI,CAAlB,CAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJA,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALA,EAMA;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAgC,QAAA,KAAK,EAAE,KAAKV,KAAL,CAAWE,SAAlD;AAA6D,QAAA,QAAQ,EAAGQ,CAAC,IAAI,KAAKJ,YAAL,CAAkBI,CAAlB,CAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANA,EAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAPA,EAQA;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,gBAAxB;AAAyC,QAAA,KAAK,EAAE,KAAKV,KAAL,CAAWG,cAA3D;AAA2E,QAAA,QAAQ,EAAGO,CAAC,IAAI,KAAKJ,YAAL,CAAkBI,CAAlB,CAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARA,EAUA;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVA,CAFN,CADJ;AAmBL,KApEiB;;AAGd,SAAKV,KAAL,GAAa;AAACD,MAAAA,IAAI,EAAE,WAAP;AAAoBE,MAAAA,OAAO,EAAE,mBAA7B;AAAkDC,MAAAA,SAAS,EAAE,gBAA7D;AAA+EC,MAAAA,cAAc,EAAE;AAA/F,KAAb;AACH;;AAkEDQ,EAAAA,MAAM,GAAE;AACN,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADN,EAEQ,KAAKF,eAAL,EAFR,CADF;AAMD;;AA9E6B;;AAiFhC,eAAe9B,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass NewBeer extends Component {\n  constructor(props){\n      super(props);          //             will help us to toggle add task form   \n                            //                      |\n      this.state = {name: \"beer name\", tagline: \"your beer tagline\", image_url: \"your photo URL\", contributed_by: \"your contributor\"};\n  }\n  getSingleProject = () => {\n    const { params } = this.props.match;\n    axios.get(`http://localhost:5000/single/${params.id}`)\n    .then( responseFromApi =>{\n        const theProject = responseFromApi.data;\n        this.setState(theProject);\n    })\n    .catch((err)=>{\n        console.log(err)\n    })\n}\n   \n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const name = this.state.name;\n    const tagline = this.state.tagline;\n    const image_url = this.state.image_url;\n    const contributed_by = this.state.contributed_by;\n\n    // const projectID = this.props.theProject._id; // <== we need to know to which project the created task belong, so we need to get its 'id'\n                                                // it has to be the 'id' because we are referencing project \n                                                // by its id in the task model on the server side ( project: {type: Schema.Types.ObjectId, ref: 'Project'})\n    \n    // { name, tagline, projectID } => this is 'req.body' that will be received on the server side in this route, \n    // so the names have to match\n    axios.post(\"http://localhost:5000/new\", { name,tagline, image_url, contributed_by })\n    .then( () => {\n          // after submitting the form, retrieve project one more time so the new task is displayed as well \n          //              |\n        this.get();\n        this.setState({name: \"\", tagline: \"\", image_url: \"\", contributed_by: \"\"});\n    })\n    .catch( error => console.log(error) )\n  }\n\n  handleChange = (event) => {  \n      const {name, value } = event.target;\n      this.setState({[name]: value});\n  }\n\n\n\n  showNewBeerForm = () => {\n   \n        return(\n            <div>\n                  <h3>Add Beer</h3>\n                  <form onSubmit={this.handleFormSubmit}>\n                  <label>name:</label>\n                  <input type=\"text\" name=\"name\" value={this.state.name} onChange={ e => this.handleChange(e)}/>\n                  <label>tagline:</label>\n                  <textarea name=\"tagline\" value={this.state.tagline} onChange={ e => this.handleChange(e)} />\n                  <label>image</label>\n                  <input type=\"text\" name=\"image\" value={this.state.image_url} onChange={ e => this.handleChange(e)}/>\n                  <label>contributed_by</label>\n                  <input type=\"text\" name=\"contributed_by\" value={this.state.contributed_by} onChange={ e => this.handleChange(e)}/>\n\n                  <input type=\"submit\" value=\"Submit\" />\n                  \n                  </form>\n            </div>\n          )\n    \n  }\n\n  render(){\n    return(\n      <div>\n            <hr />\n            { this.showNewBeerForm() }\n      </div>\n    )\n  }\n}\n\nexport default NewBeer;"]},"metadata":{},"sourceType":"module"}